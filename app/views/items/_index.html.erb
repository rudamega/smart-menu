<%# I'm hungry and looking for something to eat. %>
<div class="container">
  <div class="d-flex justify-content-center">
    <%# Okay, what is in the menu. %>
    <h1>Menu</h1>
  </div>
  <div class="accordion" id="accordionExample">
    <div class="card">
      <div class="card-header" id="headingOne">
        <h2 class="mb-0">
          <button class="btn btn-link text-center" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
            Entradas
          </button>
        </h2>
      </div>
      <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
        <div class="card-body">
          <div class="cards-home">
            <%items.each do |item| %>
              <% if item.category == "Starter" %>
                    <div class="card-group vgr-cards">
                      <div class="card">
                        <div class="plate img">
                             <% if item.photo.attached? %>
                              <%= cl_image_tag item.photo.key, height: 200, width: 200, crop: :fill %>
                              <%else%>
                               <%= image_tag "plate.jpg", height: 200, width: 200, crop: :fill %> 
                              <% end %>
                        </div>
                        <div class="card-body">
                          <h2 class="card-title"><%= item.name %></h2>
                          <p class="card-text"><%= item.description %></p>
                          <p class="card-text">R$ <%= item.price %></p>
                          <% if current_user.present?%>
                          <%if current_user.cart%>
                          <%= simple_form_for [current_user.cart, CartItem.new], html: {class: 'form-inline'} do |t| %>
                          <%= t.input :item_id, input_html: {value: item.id}, as: :hidden%>
                          <%= t.input :quantity, label: "Qty ", :input_html => {:style=> 'width: 80px', value: 1} %>
                          <%= t.submit "Add", class: "btn btn-primary"%>
                        <% end %>

                        <%#= link_to 'Add', cart_cart_items_path(current_user.cart, {item_id: item, quantity: quantity}), class: "button-orange", method: :post %>
                      <% else %>
                        <%= link_to 'Please choose a table', "#", class: "choose_table"%>

                      <% end %>
                    <% end %>
                        </div>
                      </div>
                    </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="headingTwo">
        <h2 class="mb-0">
          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
            Main Course
          </button>
        </h2>
      </div>
      <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
        <div class="card-body">
          <div class="cards-home">
            <%items.each do |item| %>
              <% if item.category == "Main Course" %>
           <div class="card-group vgr-cards">
                      <div class="card">
                        <div class="plate img">
                             <% if item.photo.attached? %>
                              <%= cl_image_tag item.photo.key, height: 200, width: 200, crop: :fill %>
                              <%else%>
                               <%= image_tag "plate.jpg", height: 200, width: 200, crop: :fill %> 
                              <% end %>
                        </div>
                        <div class="card-body">
                          <h2 class="card-title"><%= item.name %></h2>
                          <p class="card-text"><%= item.description %></p>
                          <p class="card-text">R$ <%= item.price %></p>
                          <% if current_user.present?%>
                          <%if current_user.cart%>
                          <%= simple_form_for [current_user.cart, CartItem.new], html: {class: 'form-inline'} do |t| %>
                          <%= t.input :item_id, input_html: {value: item.id}, as: :hidden%>
                          <%= t.input :quantity, label: "Qty ", :input_html => {:style=> 'width: 80px', value: 1} %>
                          <%= t.submit "Add", class: "btn btn-primary"%>
                        <% end %>
                      <% end %>
                    <% end %>
                        </div>
                      </div>
                    </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="headingThree">
        <h2 class="mb-0">
          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
            Desserts
          </button>
        </h2>
      </div>
      <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">

        <div class="card-body">
          <div class="cards-home">
            <%items.each do |item| %>
              <% if item.category == "Dessert" %>
         <div class="card-group vgr-cards">
                      <div class="card">
                        <div class="plate img">
                             <% if item.photo.attached? %>
                              <%= cl_image_tag item.photo.key, height: 200, width: 200, crop: :fill %>
                              <%else%>
                               <%= image_tag "plate.jpg", height: 200, width: 200, crop: :fill %> 
                              <% end %>
                        </div>
                        <div class="card-body">
                          <h2 class="card-title"><%= item.name %></h2>
                          <p class="card-text"><%= item.description %></p>
                          <p class="card-text">R$ <%= item.price %></p>
                          <% if current_user.present?%>
                          <%if current_user.cart%>
                          <%= simple_form_for [current_user.cart, CartItem.new], html: {class: 'form-inline'} do |t| %>
                          <%= t.input :item_id, input_html: {value: item.id}, as: :hidden%>
                          <%= t.input :quantity, label: "Qty ", :input_html => {:style=> 'width: 80px', value: 1} %>
                          <%= t.submit "Add", class: "btn btn-primary"%>
                        <% end %>
                      <% end %>
                    <% end %>
                        </div>
                      </div>
                    </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="headingFour">
        <h2 class="mb-0">
          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
            Drinks
          </button>
        </h2>
      </div>
      <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
        <div class="card-body">
          <div class="cards-home">
            <%items.each do |item| %>
              <% if item.category == "Drinks" %>
         <div class="card-group vgr-cards">
                      <div class="card">
                        <div class="plate img">
                             <% if item.photo.attached? %>
                              <%= cl_image_tag item.photo.key, height: 200, width: 200, crop: :fill %>
                              <%else%>
                               <%= image_tag "plate.jpg", height: 200, width: 200, crop: :fill %> 
                              <% end %>
                        </div>
                        <div class="card-body">
                          <h2 class="card-title"><%= item.name %></h2>
                          <p class="card-text"><%= item.description %></p>
                          <p class="card-text">R$ <%= item.price %></p>
                          <% if current_user.present?%>
                          <%if current_user.cart%>
                          <%= simple_form_for [current_user.cart, CartItem.new], html: {class: 'form-inline'} do |t| %>
                          <%= t.input :item_id, input_html: {value: item.id}, as: :hidden%>
                          <%= t.input :quantity, label: "Qty ", :input_html => {:style=> 'width: 80px', value: 1} %>
                          <%= t.submit "Add", class: "btn btn-primary"%>
                        <% end %>
                      <% end %>
                    <% end %>
                        </div>
                      </div>
                    </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
